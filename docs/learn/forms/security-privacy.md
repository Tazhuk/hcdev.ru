---
description: Узнайте, как сделать формы безопасными и сохранить данные пользователей в тайне.
icon: material/security
---

# Безопасность и конфиденциальность

<big>Узнайте, как сделать формы безопасными и сохранить данные пользователей в тайне.</big>

Создавая форму, вы работаете с данными пользователя. Ваша главная задача - обеспечить конфиденциальность и безопасность передачи пользовательских данных. Давайте посмотрим, что для этого можно сделать.

!!!note ""

    Безопасная форма означает, что все данные зашифрованы, хранятся в безопасности, и несанкционированный доступ к ним невозможен.

    Для обеспечения конфиденциальности сохраняйте только необходимые данные, сохраняйте личные данные только после получения согласия, обеспечивайте полный контроль пользователя над своими данными и никогда не передавайте данные пользователя другим лицам без его согласия.

## Убедитесь, что ваша форма безопасна

Прежде всего, необходимо запрашивать как можно меньше данных. Не запрашивайте данные, которые вам не нужны, и всегда сомневайтесь, нужны ли вам все запрашиваемые данные. Меньшее количество данных означает меньший риск, меньшие затраты и меньшую ответственность. Кроме того, сокращение количества полей в форме делает ее менее сложной, более удобной для заполнения и позволяет снизить количество отказов от заполнения.

[Всегда используйте HTTPS](https://web.dev/secure/#secure-connections-with-https), особенно для страниц, содержащих форму. При использовании HTTPS данные шифруются при получении от сервера и при возвращении на сервер.

Допустим, вы сидите в кафе, пользуясь общедоступным Wi-Fi. Вы открываете сайт электронной коммерции и вводите данные своей кредитной карты, чтобы что-то купить. Если сайт использует протокол HTTP, то любой человек (обладающий соответствующими навыками), находящийся на этом же сайте, может увидеть информацию о вашей кредитной карте. Если же на сайте используется протокол HTTPS, то данные шифруются и, следовательно, защищены от посторонних.

На своем сайте также следует позаботиться о перенаправлении всех HTTP-запросов на HTTPS. Подробнее о [как перенаправить весь трафик на HTTPS](https://geekflare.com/http-to-https-redirection/).

## Помочь пользователям сохранить конфиденциальность своих данных

В [первом модуле](form-element.md) вы узнали о двух возможных способах передачи данных: с помощью `GET` запроса и с помощью `POST` запроса.

При запросе `GET` данные формы включаются в URL-адрес запроса в виде [строки запроса](https://en.wikipedia.org/wiki/Query_string). При отправке формы, использующей запрос `GET`, браузер добавляет URL запроса, включающий данные формы, в историю просмотров. Удобно, если необходимо просмотреть прошлые отправки формы, например, для формы поиска. Не очень удобно, если отправляются конфиденциальные данные, и все, кто имеет доступ к истории браузера или локальной сети, могут увидеть эту информацию.

Используйте запросы `POST` для всех форм, в которых могут быть представлены персональные или другие конфиденциальные данные. В этом случае данные будут видны только бэкенд-скрипту, обрабатывающему их.

А как насчет сохранения и обработки персональных данных непосредственно в браузере? Для хранения персональных данных в браузере можно использовать клиентское хранилище, например, `localStorage`. С точки зрения конфиденциальности это менее чем идеальный вариант. Опять же, каждый, кто имеет доступ к браузеру, может прочитать эту информацию. Для хранения персональных данных следует использовать только зашифрованные значения.

## Обеспечение безопасной регистрации и входа пользователей в систему

[Аутентификация](https://cheatsheetseries.owasp.org/cheatsheets/Authentication_Cheat_Sheet.html) учетных записей пользователей - сложный вопрос с точки зрения конфиденциальности и безопасности. Возможно, лучше использовать [стороннего поставщика идентификационных данных](https://web.dev/sign-up-form-best-practices/#federated-login), а не создавать собственную безопасную систему аутентификации.

Узнайте больше о [лучших практиках аутентификации учетных записей и управления паролями](https://cloud.google.com/blog/products/identity-security/account-authentication-and-password-management-best-practices).

!!!note ""

    Если вы решили создать собственную систему аутентификации, обязательно следуйте лучшим практикам управления паролями:

    -   Никогда не храните и не передавайте пароли в виде обычного текста. Обязательно солить и хешировать пароли - и [не пытайтесь изобрести свой собственный алгоритм хеширования](https://www.schneier.com/blog/archives/2011/04/schneiers_law.html).
    -   Убедитесь, что пользователи вводят [надежные пароли](https://pages.nist.gov/800-63-3/sp800-63b.html#5-authenticator-and-verifier-requirements).
    -   Не допускайте [взлома паролей](https://web.dev/sign-up-form-best-practices/#no-compromised-passwords).
    -   Не принуждайте к [обновлению паролей](https://web.dev/sign-up-form-best-practices/#no-forced-password-updates).
    -   Обеспечьте пользователям простоту смены или сброса паролей.

## Помочь пользователям получить доступ к своим персональным данным

Во многих регионах действуют законы и нормативные акты, касающиеся защиты данных и конфиденциальности, в том числе [CCPA](https://en.wikipedia.org/wiki/California_Consumer_Privacy_Act) в Калифорнии и [PDPA](https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3244203) в Индии. Каждый сайт, доступный в Европейском союзе (ЕС), должен соблюдать [General Data Protection Regulation](https://ru.wikipedia.org/wiki/%D0%9E%D0%B1%D1%89%D0%B8%D0%B9_%D1%80%D0%B5%D0%B3%D0%BB%D0%B0%D0%BC%D0%B5%D0%BD%D1%82_%D0%BF%D0%BE_%D0%B7%D0%B0%D1%89%D0%B8%D1%82%D0%B5_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85) (GDPR), даже если сайт расположен не в ЕС.

GDPR устанавливает правила сбора и обработки персональных данных лиц, проживающих на территории ЕС. Для обработки персональных данных требуется согласие, пользователи могут в любой момент запросить хранящуюся у вас персональную информацию, а также вы должны официально объявлять об утечке данных. Это хорошо для пользователей, так как помогает обеспечить соблюдение их конфиденциальности. Подробнее о [GDPR](https://www.smashingmagazine.com/2018/02/gdpr-for-web-developers/).

Убедитесь, что ваши пользователи знают, как вы планируете обрабатывать персональные данные. Прозрачность - это ключ к доверию. Пользователи всегда должны иметь возможность получить доступ, изменить и удалить все данные, которые вы для них сохранили.

## Обеспечьте пользователям возможность обновлять свои персональные данные

Обеспечьте удобство обновления персональных данных пользователей, включая пароли, адреса электронной почты и имена пользователей. Уведомляйте пользователей об изменениях в сохраненных персональных данных и обеспечьте возможность отмены изменений. Например, после изменения адреса электронной почты отправляйте письмо на прежний и новый адреса электронной почты.

!!!note ""

    Разделите понятия "учетная запись пользователя" и "идентификационные данные пользователя", чтобы упростить реализацию предоставления идентификационных данных третьими сторонами. Разрешите пользователям менять имя пользователя и связывать несколько идентификаторов с одной учетной записью, например, если они регистрируются с помощью электронной почты и пароля, а затем регистрируются у стороннего поставщика идентификационных данных.

Обеспечьте пользователям возможность легко удалить свою учетную запись, включая все связанные с ней данные, и, если это необходимо, сделайте возможной загрузку данных. В некоторых регионах удаление учетной записи является [законодательным требованием](https://ec.europa.eu/info/law/law-topic/data-protection_en).

!!!note ""

    Ссылка на политику конфиденциальности на каждой странице с формой, особенно если обрабатываются персональные данные.

Требуйте дополнительного шага аутентификации, например, повторного ввода текущего пароля, для просмотра или изменения персональной информации на вашем сайте.

Подробнее: [Web Application Privacy Best Practices](https://www.w3.org/TR/app-privacy-bp/).

## Убедитесь, что все данные находятся в хорошем состоянии

В предыдущем модуле вы узнали о [проверке на фронтенде](validation.md). Проверка на фронтенде очень важна, но пользователи все равно могут отправлять недостоверные данные. В качестве следующего шага перед сохранением данных в базе данных необходимо выполнить проверку данных [на внутреннем сервере](https://cheatsheetseries.owasp.org/cheatsheets/Input_Validation_Cheat_Sheet.html). Это гарантирует, что недействительные данные не будут сохранены в базе данных.

Валидация помогает убедиться в правильности формата данных, однако доверять данным, введенным пользователями, все равно не следует. Как обеспечить безопасный вывод данных? Чтобы предотвратить [Cross Site Scripting](https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html) (XSS) и гарантировать, что все данные безопасно включать в HTML, необходимо санировать данные перед выводом.

Узнайте больше о [sanitizing data before output](https://benhoyt.com/writings/dont-sanitize-do-escape/) и, по возможности, используйте [Sanitizer API](https://web.dev/sanitizer/).

## Убедитесь, что все сообщения поступают от реальных людей.

Для защиты данных существуют различные варианты предотвращения спама от [ботов](<https://ru.wikipedia. org/wiki/%D0%91%D0%BE%D1%82_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0)#%D0%92%D1%80%D0%B5%D0%B4%D0%BE%D0%BD%D0%BE%D1%81%D0%BD%D0%BE%D0%B5_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5>).

Первый вариант - использовать сервис, например [reCAPTCHA](https://www.google.com/recaptcha/about/), чтобы отличить реальных людей от ботов. Для этого необходимо разместить на странице сниппет JavaScript и добавить дополнительные атрибуты к кнопке **Submit**.

reCAPTCHA выполняет различные проверки, чтобы выяснить, являетесь ли вы человеком. Например, она может попросить вас идентифицировать изображения. Автоматизированное программное обеспечение, например бот, не может выполнить эти задачи и не сможет отправить форму.

!!!note ""

    Всегда следите за тем, чтобы средства защиты от спама были доступны. Опробуйте их с помощью программы чтения с экрана, а также используя только клавиатуру. Самая лучшая защита от спама бесполезна, если она делает форму непригодной для использования реальными людьми.

### Honeypot

<iframe src="https://codepen.io/web-dot-dev/embed/c8e82763c4ce344eb23dfd3ef621b662?height=400&amp;theme-id=light&amp;default-tab=html%2Cresult&amp;editable=true" style="height: 400px; width: 100%; border: 0;" loading="lazy"></iframe>.

Другой вариант - использование так называемой "медовой точки": визуально скрытого поля формы. Человек не увидит поле honeypot, но боты заполнят его. На внутреннем сервере скрипт обработки может проверить, было ли заполнено поле. Если оно заполнено, то, скорее всего, это был бот, и его можно проигнорировать.

Существуют также такие сервисы, как [Akismet](https://akismet.com), которые могут помочь вам в защите от спама. Фильтр Akismet работает, объединяя информацию о спаме, полученную на всех участвующих сайтах, и затем используя эти спам-правила для блокировки будущего спама. Akismet прозрачен для пользователя и отлавливает большую часть спама.

## Ресурсы

-   [Руководство по цифровой идентификации](https://pages.nist.gov/800-63-3/sp800-63b.html)
-   [Шпаргалка по безопасности баз данных](https://cheatsheetseries.owasp.org/cheatsheets/Database_Security_Cheat_Sheet.html)

:material-information-outline: Источник &mdash; [Security and privacy](https://web.dev/learn/forms/security-privacy/)
